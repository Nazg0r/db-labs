# Модель прецедентів

## 1. Діаграма прецедентів
**На рис. 1 зображена діаграма прецедентів та їх основні можливості.**

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    actor "Гість" as Guest
    actor "Користувач" as User
    actor "Технічний експерт" as Expert
    
    usecase "<b>Log in</b>\nЗареєструвати обліковий запис" as UC_1
    usecase "<b>Sign in</b>\nУвійти в обліковий запис" as UC_2
    usecase "<b>Media content management</b>\nПошук та управління медіа-контентом" as UC_3
    usecase "<b>Delete account</b>\nВидалити обліковий запис" as UC_4
    usecase "<b>Promote user role</b>\nПідвищити роль користувача" as UC_5
    
    Guest -u-> UC_1
    Guest -u-> UC_2
    
    User -u-|> Guest
    User -d-> UC_3

    Expert -u-|> Guest
    Expert -d-> UC_4
    Expert -d-> UC_5

@enduml

**Рис. 1** Діаграма прецедентів

</center>

Згідно з діаграмою система має 3 типи користувачів: **Гість** - неавторизований користувач, що має можливість створити обліковий запис або увійти в існуючий. **Користувач** - авторизований користувач з можливістю управляти медіа-контентом. **Технічний експерт** - підвищення ролі та видалення облікового запису.

## 2. Схеми використання для Гостя
**На рис. 2 зображені усі можливості гостя.**

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    actor "Гість" as Guest
    
    usecase "<b>Log in</b>\nЗареєструвати обліковий запис" as UC_1
    usecase "<b>Sign in</b>\nУвійти в обліковий запис" as UC_2
    
    Guest -d-> UC_1
    Guest -d-> UC_2

@enduml

**Рис. 2** Схема можливостей гостя

</center>

## 3. Схеми використання для Користувача
**На рис. 3 зображені усі можливості користувача.**

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    actor "Користувач" as User
    
    usecase "<b>Media content management</b>\nПошук та управління медіа-контентом" as UC_1
    usecase "Пошук медіа-контенту" as UC_1_1 #lightyellow
    usecase "Створення нового медіа-контенту в системі" as UC_1_2 #lightyellow
    usecase "Видалення наявного медіа-контенту із системи" as UC_1_3 #lightyellow
    usecase "Редагування поточної інформації про медіа-контент у системі" as UC_1_4 #lightyellow
    usecase "Додавання відгуку на медіа-контент у системі" as UC_1_5 #lightyellow
    
    User -d-> UC_1
    UC_1_1 -l-> UC_1: extends
    UC_1_2 -u-> UC_1: extends
    UC_1_3 -u-> UC_1: extends
    UC_1_4 -u-> UC_1: extends
    UC_1_5 -r-> UC_1: extends


@enduml

**Рис. 3** Схема можливостей користувача

</center>

## 4. Схеми використання для Технічного експерта
**На рис. 4 зображені усі можливості технічного експерта.**

<center style="
    border-radius:4px;
    border: 1px solid #cfd7e6;
    box-shadow: 0 1px 3px 0 rgba(89,105,129,.05), 0 1px 1px 0 rgba(0,0,0,.025);
    padding: 1em;"
>

@startuml

    actor "Технічний експерт" as Expert
    
    usecase "<b>Delete account</b>\nВидалити обліковий запис" as UC_1
    usecase "<b>Promote user role</b>\nПідвищити роль користувача" as UC_2
    
    Expert -d-> UC_1
    Expert -d-> UC_2

@enduml

**Рис. 4** Схема можливостей технічного експерта

</center>

## 5. Сценарії використання для незареєстрованого користувача
### Реєстрація

**ID**: UserReg

**НАЗВА**: Реєстрація облікового запису користувача в системі

**УЧАСНИКИ**: Користувач, Система

**ПЕРЕДУМОВИ**: Користувач не має облікового запису в системі

**РЕЗУЛЬТАТ**: Створення нового облікового запису користувача

**ВИКЛЮЧНІ СИТУАЦІЇ**: 
1. Користувач уже зареєстрований в системі - AlreadyRegisteredException
2. Користувач намагається зареєструватися без введення реєстраційних даних - DataMissingException
3. Користувач вводить неправильні дані - InvalidDataException

**ОСНОВНИЙ СЦЕНАРІЙ** :
1. Користувач відкриває сторінку реєстрації 
2. Користувач вводить особисті дані , наприклад, ім'я, прізвище, адресу електронної пошти, пароль
3. Система перевіряє наявність користувача з таким ім'ям або адресою електронної пошти 
4. Система створює обліковий запис з даними користувача 
5. Система повідомляє користувача про успішне створення його нового облікового запису

<center>

@startuml

|Гість|
start
: Користувач натискає кнопку "Реєстрація";
: Користувач передає реєстраційні дані;

note left #red
<b>Можлива виключна ситуація</b>
<b>"InvalidDataException"</b>
end note

: Користувач натискає кнопку "Підтвердити реєстрацію";

|Система|
: Система отримує запит на реєстрацію;
: Система перевіряє отримані реєстраційні дані;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"DataMissingException"</b>
end note
: Система перевіряє наявність облікового запису;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"AlreadyRegisteredException"</b>
end note
: Система створює обліковий запис з даними користувача;
: Система повідомляє про успішне створення нового облікового запису;

|Гість|
stop

@enduml

**Рис. 5.1** Сценарій реєстрації користувача

</center>

### Авторизація

**ID**: UserAuth

**НАЗВА**: Увійти до облікового запису зареєстрованого користувача

**УЧАСНИКИ**: Користувач, Система

**ПЕРЕДУМОВИ**: Користувач уже зареєствораний в системі

**РЕЗУЛЬТАТ**: Вхід користувача до облікового запису

**ВИКЛЮЧНІ СИТУАЦІЇ**:
1. Користувач ввів некоректні дані - DataNotFoundException
2. Користувач не є зареєстрованим - NotRegisteredException
3. Користувач робить забагато спроб входу - TooManyActionsException

**ОСНОВНИЙ СЦЕНАРІЙ** :
1. Користувач відкриває сторінку входу
2. Користувач вводить дані для авторизації облікового запису
3. Система перевіряє наявність користувацького облікового запису
4. Система перевіряє правильність введених авторизаційних даних
5. Система дозволяє користувачу отримати доступ до свого облікового запису

<center>

@startuml

|Гість|
start
: Користувач натискає кнопку "Вхід";
: Користувач вводить авторизаційні дані;

note left #red
<b>Можлива виключна ситуація</b>
<b>"TooManyActionsException"</b>
end note

: Користувач натискає кнопку "Увійти";

|Система|
: Система отримує запит на авторизацію;
: Система перевіряє отримані авторизаційні дані;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"DataNotFoundException"</b>
end note
: Система перевіряє наявність облікового запису;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"NotRegisteredException"</b>
end note
: Система надає доступ до сторінки кабінету;
: Система повідомляє про успішний вхід в особистий кабінет;

|Гість|
stop

@enduml

**Рис. 5.2** Сценарій авторизації користувача

</center>

## 6. Сценарії використання для зареєстрованого користувача

### Редагування медіа-контенту

**ID**: MediaEdit

**НАЗВА**: Редагування поточної інформації про медіа-контент у системі

**УЧАСНИКИ**: Користувач, Система

**ПЕРЕДУМОВИ**: Користувач авторизований у системі та має права на редагування контенту

**РЕЗУЛЬТАТ**: Зміна інформації про вказаний медіа-контент у системі

**ВИКЛЮЧНІ СИТУАЦІЇ**: 
1. Користувач не має прав на редагування поточного медіа-контенту - PermissionDeniedException
2. Неправильна інформація про медіа-контент - InvalidContentDataException

**ОСНОВНИЙ СЦЕНАРІЙ**:
1. Користувач обирає медіа-контент для редагування
2. Користувач редагує інформацію про медіа-контент
3. Система перевіряє наявність прав у користувача
4. Система перевіряє наявність контенту
5. Система оновлює інформацію в базі даних
6. Система підтверджує редагування та оновлює дані контенту

<center>

@startuml

|Користувач|
start
: Користувач обирає медіа-контент для редагування;
: Користувач редагує інформацію про медіа-контент;
: Користувач натискає кнопку "Редагувати";

|Система|
: Система отримує запит на редагування інформації про медіа-контент;
: Система перевіряє права для редагування медіа-контенту;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"PermissionDeniedException"</b>
end note
: Система перевіряє наявність контенту;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"InvalidContentDataException"</b>
end note
: Система оновлює інформацію в базі даних;
: Система підтверджує редагування та оновлює дані контенту;

|Користувач|
stop

@enduml

**Рис. 6.4** Сценарій редагування медіа-контенту

</center>

## 7. Сценарії використання для технічного експерта

### Видалення користувача

**ID**: UserDelete

**НАЗВА**: Видалення облікового запису користувача

**УЧАСНИКИ**: Технічний експерт, Користувач, Система

**ПЕРЕДУМОВИ**: Користувач має активний обліковий запис та права на видалення

**РЕЗУЛЬТАТ**: Видалення облікового запису користувача із системи

**ВИКЛЮЧНІ СИТУАЦІЇ**:
1. Користувач не має прав на видалення облікового запису - PermissionDeniedException
2. Користувач не є зареєстрованим - NotRegisteredException

**ОСНОВНИЙ СЦЕНАРІЙ** :
1. Технічний експерт обирає користувача для видалення зі списку
2. Система перевіряє права для видалення облікового запису
3. Система перевіряє наявність облікового запису користувача
4. Система видаляє обліковий запис та забороняє доступ користувача
5. Система повідомляє про успішне видалення користувача

<center>

@startuml

|Технічний експерт|
start
: Технічний експерт обирає користувача для видалення зі списку;
: Технічний експерт натискає кнопку кнопку "Видалити";

|Система|
: Система отримує запит на видалення користувача;
: Система перевіряє права для видалення облікового запису;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"PermissionDeniedException"</b>
end note
: Система перевіряє наявність облікового запису;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"NotRegisteredException"</b>
end note
: Система видаляє обліковий запис та забороняє доступ користувача;
: Система повідомляє про успішне видалення користувача;

|Технічний експерт|
stop

@enduml

**Рис. 7.1** Сценарій видалення користувача

</center>

### Підвищення прав користувача

**ID**: UserRolePromote

**НАЗВА**: Підвищення ролі користувача

**УЧАСНИКИ**: Технічний експерт, Користувач, Система

**ПЕРЕДУМОВИ**: Технічний експерт має права на зміну ролей користувачів. Користувач має активний обліковий запис

**РЕЗУЛЬТАТ**: Зміна ролі користувача для створення, редагування, оновлення медіа-контенту

**ВИКЛЮЧНІ СИТУАЦІЇ**:
1. Користувач не є технічним експертом - RoleNotEnoughRightsException
2. Користувач вже має найвищу доступну роль - RoleAlreadyHighestException
3. Користувач не є зареєстрованим - NotRegisteredException

**ОСНОВНИЙ СЦЕНАРІЙ** :
1. Технічний експерт обирає користувача для півищення ролі
2. Технічний експерт обирає роль для обраного користувача
3. Система перевіряє права технічного експерта
4. Система змінює роль користувача на вказану
5. Система повідомляє про успішне підвищення ролі користувача

<center>

@startuml

|Технічний експерт|
start
: Технічний експерт обирає користувача для півищення ролі;
: Технічний експерт обирає роль для обраного користувача;
: Технічний експерт натискає кнопку кнопку "Змінити роль";

|Система|
: Система отримує запит на зміну ролі користувача;
: Система перевіряє права технічного експерта;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"RoleNotEnoughRightsException"</b>
end note
: Система перевіряє наявність облікового запису користувача;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"NotRegisteredException"</b>
end note
: Система змінює роль користувача на вказану;
note right #ff0000
<b>Можлива виключна ситуація</b>
<b>"RoleAlreadyHighestException"</b>
end note
: Система повідомляє про успішне підвищення ролі користувача;

|Технічний експерт|
stop

@enduml

**Рис. 7.2** Сценарій підвищення ролі користувача

</center>